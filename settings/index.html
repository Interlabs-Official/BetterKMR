<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BetterKMR Settings</title>
  <!-- Import the Inter font -->
   <style>
    body {
      background-color: #0f0f0f;
      visibility: hidden;
    }
.rainbow_text_animated {
    background: linear-gradient(to right, #6666ff, #0099ff , #00ff00, #ff3399, #6666ff);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: rainbow_animation 6s ease-in-out infinite;
    background-size: 400% 100%;
}

@keyframes rainbow_animation {
    0%,100% {
        background-position: 0 0;
    }

    50% {
        background-position: 100% 0;
    }
}

#nested-tab-custom-themes {
  padding: 0.5rem;
}

#new-custom-theme-button {
  background: linear-gradient(45deg, #6366f1, #8b5cf6);
  color: white;
  float: right;
  margin: 1rem 0;
  border: none;
  padding: 12px 24px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

#new-custom-theme-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2);
}

.custom-theme-item {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  margin-bottom: 1rem;
  padding: 1.25rem;
  transition: transform 0.2s, box-shadow 0.2s;
}

.custom-theme-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.theme-name {
  font-size: 18px;
  font-weight: 500;
  color: #fff;
}

.theme-actions button {
  border: none;
  padding: 8px 16px;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
  transition: opacity 0.2s;
  margin-left: 8px;
}

.theme-actions button:hover {
  opacity: 0.9;
}

.edit-theme, .download-button {
  font-family: 'Inter', sans-serif;
  background: rgb(0,55,91);
  background: linear-gradient(360deg, rgba(0,55,91,1) 0%, rgba(0,185,255,1) 100%);
  color: white;
}

.clone-theme {
  font-family: 'Inter', sans-serif;
  background: rgb(58, 53, 0);
  background: linear-gradient(360deg, rgb(75, 68, 0) 0%, rgb(176, 185, 0) 100%);
  color: white;
}

.apply-custom-theme {
  font-family: 'Inter', sans-serif;
  background: rgb(0, 58, 0);
  background: linear-gradient(360deg, rgb(0, 75, 19) 0%, rgb(6, 185, 0) 100%);
  color: white;
}

.delete-theme {
  font-family: 'Inter', sans-serif;
  background: rgb(91,0,0);
  background: linear-gradient(360deg, rgba(91,0,0,1) 0%, rgba(255,0,0,1) 100%);
  color: white;
}

#delete-all-themes-button {
  background: linear-gradient(360deg, #4e0e0e, #dc2626);
  color: white;
  float: right;
  margin: 1rem;
  border: none;
  padding: 12px 24px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

#delete-all-themes-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2);
}

.dialog-button-danger {
    background: rgb(91,0,0);
    background: linear-gradient(360deg, rgba(91,0,0,1) 0%, rgba(255,0,0,1) 100%);
    color: #fff;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: background 0.2s;
}

.dialog-button-danger:hover {
    background: rgb(255, 0, 0);
    background: linear-gradient(360deg, rgb(187, 0, 0) 0%, rgb(255, 53, 53) 100%);
}

.edit-theme:hover, .apply-custom-theme:hover, .download-button:hover, .clone-theme:hover, .delete-theme:hover{
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(255, 255, 255, 0.3);
}

/* Empty state styling */
#custom-themes-list:empty::after {
  content: "No custom themes yet. Click 'New' to create one!";
  display: block;
  text-align: center;
  color: #6b7280;
  padding: 2rem;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  margin-top: 1rem;
}

.vtt-button {
      background: rgb(0,65,10);
      background: linear-gradient(360deg, rgba(0,65,10,1) 0%, rgba(0,175,41,1) 100%);
        color: #fff;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.9rem;
        transition: background 0.2s;
}

.vtt-button:hover {
  background: rgb(0,65,10);
  background: linear-gradient(360deg, rgba(0,65,10,1) 0%, rgba(0,190,49,1) 100%);
}

.red-button {
  background-color: #ff0000 !important;
  margin-left: 2px;
}

.loader {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  display: inline-block;
  border-top: 4px solid #FFF;
  border-right: 4px solid transparent;
  box-sizing: border-box;
  animation: rotation 1s linear infinite;
  margin-bottom: 10px;
}
@keyframes rotation {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.sidebar {
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    width: 250px;
    overflow-y: auto;
}

.content {
    margin-left: 250px;
    padding: 20px;
    min-height: 100vh;
    position: relative;
}

#second-tab-list {
    position: fixed;
    bottom: 20px;
    left: 0;
    width: 250px;
}

#tab-list {
    padding-bottom: 120px;
}
.announcement-banner, .update-notification {
    background-color: #2196F340;
    color: white;
    padding: 12px 20px;
    position: relative;
    text-align: center;
    animation: slideDown 0.3s ease-out;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    margin-bottom: 2px;
}

.update-notification {
    background-color: #af4c4c40;
}

.announcement-text, .update-text {
    flex-grow: 1;
    font-size: 16px;
}

.announcement-close, .update-close {
    background: none;
    border: none;
    color: white;
    cursor: pointer;
    font-size: 20px;
    padding: 0 5px;
    opacity: 0.8;
    transition: opacity 0.2s;
}

.announcement-close:hover, .update-close:hover {
    opacity: 1;
}

.banner-container {
    margin-bottom: 20px;
}
.update-alert {
    text-align: center;
}

.update-alert h3 {
    color: #007bff;
    margin-bottom: 10px;
}

.update-alert a {
    display: inline-block;
    margin-top: 10px;
    color: #007bff;
    text-decoration: none;
    font-weight: bold;
}

.update-alert a:hover {
    text-decoration: underline;
}
   
   </style>
   <link rel="stylesheet" id="settings-theme-stylesheet" href="../src/themes/default.css">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body style="visibility: hidden;">
  <div id="loading-screen">
    <div class="loading-content">
      <div class="loading-logo">BetterKMR</div>
      <div class="loading-spinner">
        <div class="spinner-circle"></div>
        <div class="spinner-circle-inner"></div>
      </div>
      <div class="loading-text">Loading settings...</div>
    </div>
  </div>
  <div id="notification-container"></div>
  <div class="settings-container">
    <!-- Sidebar with tabs -->
    <aside class="sidebar">
      <img src="../icon/btrkmr_transparent_logo_crop.png" style="
          display: block;
          margin-left: auto;
          margin-right: auto;
          margin-top: 10px;
          margin-bottom: 10px;
          width: 179px;
          height: 68px;
      "/>
      <h1 style="text-align: center;">BetterKMR</h1>
      <p id="sidebar-version-id" style="text-align: center; margin-bottom: 10px; display: none; font-size: 15px;">v1.1.0-dev</p>
      <ul id="tab-list">
        <li data-tab="general" class="tab-item active">General</li>
        <li data-tab="themes" class="tab-item">Themes</li>
        <li data-tab="about-and-contact" class="tab-item">About & Contact</li>
        <!-- <li data-tab="go-back" class="tab-item">Experiments</span></li> -->
      </ul>
      <ul id="second-tab-list">
        <li data-tab="advanced" class="tab-item" style="display: none;" id="advanced-tab-header">Developer Settings</li>
        <li data-tab="go-back" class="tab-item">Website & Docs <span style="font-size: 14px;">‚Üó</span></li>
        <li data-tab="go-back" class="tab-item">Discord Server <span style="font-size: 14px;">‚Üó</span></li>
      </ul>
    </aside>
    
    <!-- Main content area -->
    <main class="content">
      <div id="tab-general" class="tab-content">
        <h1>General Settings</h1>
        <h3 style="font-weight: 300;">Once changes are made, refresh your Kamar page(s). Changes are made automatically once interacted.</h3>
        <!-- Nested Tab Header -->
        <div class="nested-tabs">
          <ul class="nested-tab-list">
            <li data-nested-tab="general" class="nested-tab-item active">General</li>
            <li data-nested-tab="profile" class="nested-tab-item">Profile</li>
            <!-- <li data-nested-tab="navbar-editor" class="nested-tab-item">‚ú® Navbar Editor</li> -->
            <li data-nested-tab="danger-zone" class="nested-tab-item">Danger Zone</li>
          </ul>
          <!-- Nested Tab Contents -->
          <div id="nested-tab-general" class="nested-tab-content active"></div>
          <div id="nested-tab-profile" class="nested-tab-content"></div>
          <div id="nested-tab-danger-zone" class="nested-tab-content"></div>
        </div>
      </div>
      <!-- Privacy and Advanced Tabs (their content areas) -->
      <div id="tab-themes" class="tab-content">
        <h1>Theme Browser</h1>
        <h3 style="font-weight: 300;">Once changes are made, refresh your Kamar page(s).</h3>
        <div class="nested-tabs">
          <ul class="nested-tab-list">
            <li data-nested-tab="default-themes" class="nested-tab-item active">Default Themes</li>
            <li data-nested-tab="market-themes" class="nested-tab-item">Marketplace</li>
            <li data-nested-tab="custom-themes" class="nested-tab-item rainbow_text_animated">Custom</li>
            <li data-nested-tab="submit-your-themes" id="submit-theme-tab" class="nested-tab-item">Submit Theme ‚Üì</li>
          </ul>
          <!-- Nested Tab Contents -->
          <div id="nested-tab-default-themes" class="nested-tab-content active">
            <div class="theme-card school-colours" id="1"><div class="theme-content"><div class="title-row"><h2 class="theme-title">School Colours</h2><button class="download-button" id="school-default-theme">Apply</button></div><p class="theme-description">Use your school's default colours</p></div></div>
            <div class="search-container">
              <div class="search-wrapper">
                <i class="search-icon">üîç</i>
                <input type="text" id="theme-search-input" placeholder="Search themes or tags...">
                <button id="clear-search-button">‚úï</button>
              </div>
              <p id="no-theme-results" style="display: none;">No themes found matching your search.</p>
            </div>
            <center><div class="loader" id="loader"></div></center>
            <div class="theme-grid" id="theme-grid" style="display: none;"></div>
            <p style="text-align: center; font-size: 12px; color: #777;">If you own some content in these themes and want them removed, please contact us via email at <a href="mailto:interlabsofficial@gmail.com" style="color: #777;">interlabsofficial@gmail.com</a>.</p>
          </div>
          <div id="nested-tab-market-themes" class="nested-tab-content">
            <br><h1 style="text-align: center; font-weight: 300; font-size: 60px;">Marketplace</h1>
            <h2 style="text-align: center;">Coming soon! This will be a place where you can distribute your custom themes.</h2>
            <h3 style="text-align: center;">Keep watching this space for future updates!</h3>
          </div>
          <div id="nested-tab-submit-your-themes" class="nested-tab-content">
            <h1 style="text-align: center; font-weight: 300; font-size: 45px;">Submit Your Theme!</h1>
            <p style="text-align: center; font-weight: 300; font-size: 18px;">Once you've created your custom theme, you can submit it to be available in the "Default Themes" category!</p>
            <p style="text-align: center; font-weight: 300; font-size: 18px;"><b>Please read the entire page before submitting your theme.</b></p>
            <p style="text-align: center; font-weight: 300; font-size: 18px;"><b>If you submit/update a theme, you agree to the conditions at the bottom of the page and the whole page.</b></p>
            <br>
            <div style="display: flex; align-items: center; justify-content: space-between; margin: 0 20px;">
              <div style="flex: 1;">
                <p style="text-align: left; font-weight: 300; font-size: 18px;">
                  Last updated 30/03/2025<br><br>
                  When/if you submit your theme and its .bkt file, our team will review your submission and if approved, your theme will be featured in the Default Themes section for all BetterKMR users to enjoy!<br><br>
                  Make sure your theme has been thoroughly tested for optimal compatibility and user experience. High-quality submissions have a better chance of being approved. You also must agree to the conditions at the bottom of the page.<br><br>
                  <h1>Main Questions</h1><br>
                  <p style="font-size: 23px;">How do I get my custom theme file?</p><br>
                  <p style="text-align: left; font-weight: 300; font-size: 18px;">
                    1. Just find your theme in the Custom tab and click on Edit.<br>
                    2. Click on "Visual Theme Editor" when the dialog shows up.<br>
                    3. Click on "Import/Export" and then click Export to File. You should then get a .bkt file you can attach to the form. <br>
                  </p><br>
                  <p style="font-size: 23px;">How can I submit my theme?</p><br>
                  <p style="text-align: left; font-weight: 300; font-size: 18px;">
                    There's now only one way you can get your theme on the "Default Themes" page as of currently:<br><br>
                    Read the guidelines below and <a href="https://docs.google.com/forms/d/e/1FAIpQLSe3vJEGhCO8UhHTNtoQ9BaIRYspHAVyVagzs5J_sGaFNVx3fA/viewform" target="_blank">fill out the form here</a>. If you don't know how to get your theme's .bkt file, refer above "How do I get my custom theme file?"<br>
                    <br>When you submit a theme, you must include your theme name, description (max 50 characters), author (your name), tags w/ colours, and the complete .bkt file. Note that there is a maximum of 2 tags (16 characters per tag max).
                  </p>
                </p>
              </div>
              <div style="margin-left: 20px;">
                <img src="../assets/images/your_theme_img.png" alt="Theme Submission" width="512" height="512">
              </div>
            </div><br><h1 style="margin-left: 20px;">Frequently Asked Questions</h1><br>
<p style="font-size: 23px; margin-left: 20px;">My theme has been approved! When will I be able to see it?</p><br>
<p style="text-align: left; font-weight: 300; font-size: 18px; margin-left: 20px;">
  Your theme (should) be included in the next update, assuming that the current update isn't awaiting review in the Chrome Web Store.
  <br>Because of that, if the theme updates and you don't see your theme, it (should) be in the next one.
</p><br>
<p style="font-size: 23px; margin-left: 20px;">How can I push an update to my theme?</p><br>
<p style="text-align: left; font-weight: 300; font-size: 18px; margin-left: 20px;">
  Just submit the form again (with the same email address you used in the form), stating what you've changed, send over the new .bkt file, and if it gets
  <br>approved, it (should) be available in the next update.
</p><br>
<br><h1 style="margin-left: 20px;">Theme Conditions</h1><br>
<p style="font-size: 23px; margin-left: 20px;">Conditions of submitting/updating a theme:</p><br>
<p style="text-align: left; font-weight: 300; font-size: 18px; margin-left: 20px;">
  You must agree to the <a href="https://github.com/InterLabsOfficial/BetterKMR/blob/main/LICENSE" target="_blank">AGPL-3.0 license</a>.
  <br>For every image, you agree that you own that image and must share evidence doing so. Please state this in the email or pull request.
  <br>We get the rights to own those images too, as we need them for display purposes and you agree that these can be used commercially.
  <br>We cannot be held liable for any content submitted/updated. Do not submit troll themes/bad themes. We have the right to reject any theme.
</p><br>
<p style="text-align: left; font-weight: 300; font-size: 18px; margin-left: 20px;">If you disagree or cannot fulfill any of the content listed above, please do NOT submit/update a theme.</p>
<p style="text-align: left; font-weight: 300; font-size: 18px; margin-left: 20px;">If you have any questions, please let us know via <a href="mailto:interlabsofficial@gmail.com" target="_blank">Email</a> or <a href="https://discord.gg/HjJvakyAXe" target="_blank">Discord</a>.</p>
            </p>
            <br>
          </div>
          <div id="nested-tab-custom-themes" class="nested-tab-content">
          <button id="new-custom-theme-button">New</button>
          <button id="delete-all-themes-button">Delete All</button>
            <br><h1>Your Themes<span
              style="
                background-color: rgb(68, 189, 230);
                color: rgb(255, 255, 255);
                padding: 0.2em 0.4em;
                border-radius: 0.4em;
                font-size: 0.6em;
                vertical-align: middle;
                margin-left: 0.7em;
              "
              >BETA</span
            ><br></h1><h3 style="font-weight: 300;">NOTE: Due to quota issues, custom themes are stored locally instead of synced. Support may change in the future.</h3>
            <ul id="custom-themes-list" style="list-style: none; padding: 0; margin-top: 20px;">
              <!-- Example Theme Item -->
              <!-- <li class="custom-theme-item" style="display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid #444;">
                <span class="theme-name" style="font-size: 18px;">Example Theme</span>
                <div class="theme-actions">
                  <button class="edit-theme" style="background: #3498db; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; margin-left: 5px;">Edit</button>
                  <button class="add-js-theme" style="background: #f39c12; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; margin-left: 5px;">Add JS</button>
                  <button class="delete-theme" style="background: #e74c3c; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; margin-left: 5px;">Delete</button>
                </div>
              </li> -->
            </ul>
          </div>
        </div>
      </div>
     <div id="tab-about-and-contact" class="tab-content">
      <img src="../icon/icon_transparent_128.png" alt="BetterKMR Logo" style="width: 100px; height: 100px;">
        <h1>BetterKMR</h1>
        <h3 style="font-weight: 300;" id="version-number">Version (unknown)</h3>
        <h3 style="font-weight: 300;">Created by <a href="https://github.com/Interlabs-Official" target="_blank" style="color: #fff;">InterLabs</a></h3>
        <h3 style="font-weight: 300;">Found an issue or a bug? You can report it on our <a href="https://discord.gg/4MkRmFmHz2" target="_blank" style="color: #fff;">Discord</a> or most preferably on our <a href="https://github.com/Interlabs-Official/BetterKMR/issues" target="_blank" style="color: #fff;">GitHub</a> repository.</h3>
        <h3 style="font-weight: 300;">Just want to email us about anything? Email us at <a href="mailto:interlabsofficial@gmail.com" style="color: #fff;">interlabsofficial@gmail.com</a>.</h3>
     </div>
    <div id="tab-advanced" class="tab-content">
      <h1>Advanced / Developer Settings</h1>
      <h3 style="font-weight: 300;">This is the Advanced section.</h3>
      <h3 style="font-weight: 300;">Some parts of this section may only be available when built directly from the GitHub repo.</h3>
      
      <div class="setting-item">
        <div class="setting-header">
          <span class="setting-label">Settings Theme</span>
          <div class="control">
            <select id="settings-theme-selector" class="dropdown">
              <option value="default">Default</option>
              <option value="settings-default-visual-refresh-01b_beta">Visual Refresh (Beta): settings-default-visual-refresh-01b_beta</option>
            </select>
          </div>
        </div>
      </div>
    </div>
    </main>
  </div>
  <script src="lib.js"></script>
  <script src="../frameworks/js-yaml.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
